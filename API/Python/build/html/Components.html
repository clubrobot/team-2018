
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Components &#8212; documentation Club Robot 1.0</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Outils" href="Outils.html" />
    <link rel="prev" title="TCP Talks" href="TCPTalks.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Outils.html" title="Outils"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="TCPTalks.html" title="TCP Talks"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">documentation Club Robot 1.0</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="components">
<h1>Components<a class="headerlink" href="#components" title="Lien permanent vers ce titre">¶</a></h1>
<p>Components est une libraire qui permet une utilisation de SerialTalks à travers TCPTalks. Cette librairie est très pratique pour la réalisation d’intéligence puisqu’elle permet de pouvoir executer l’inteligence depuis l’ordinateur sans à avoir à rentrer dans la raspberry.</p>
<div class="section" id="preambule">
<h2>Préambule<a class="headerlink" href="#preambule" title="Lien permanent vers ce titre">¶</a></h2>
<p>Cette librairie est purement python, puisqu’elle est executer par la raspberry et un ordinateur. Son principal rôle comme indiqué précedement est d’externalisé l’utilisation de SerialTalks et des objects dérivés de celui-ci (ce reporté au chapitre utilisation de SerialTalks).</p>
<p>Pour cette librairie il existe plusieurs type d’elements, tout d’abord les classes principals qui permettent la communication c’est à dire Manager (client) et Serveur.
Chacune de ces entités à besoins d’objects pour matérialisé un arduino ou d’autre object accessible à distance.</p>
<p>Du côté de la raspberry et de l’object Serveur,ils existents des objects apellés «&nbsp;component&nbsp;». Chaque component représente un element  utilisable a distance (arduino , gpio devices). Ces elements se creent sur demande du client.
De l’autre côté le client utilise des objects Proxy qui vont utiliser l’object Managers pour creer leurs homologues (component) et communiquer avec eux.</p>
</div>
<div class="section" id="server">
<h2>Server<a class="headerlink" href="#server" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans ce chapitre nous metterons a disposition l’API .</p>
<div class="section" id="api">
<h3>API<a class="headerlink" href="#api" title="Lien permanent vers ce titre">¶</a></h3>
<p>Dans cette API, vous trouverez en premier le serveur puis tous les components disponibles à ce jour.</p>
<p>Le serveur utilise un dictionnaire pour stocker les components. Dans ce dictionnaire vous trouverer le nom ou (compid) associé à l’object component (comp).</p>
<dl class="class">
<dt id="Server">
<em class="property">class </em><code class="descname">Server</code><span class="sig-paren">(</span><em>TCPTalks</em><span class="sig-paren">)</span><a class="headerlink" href="#Server" title="Lien permanent vers cette définition">¶</a></dt>
<dd><blockquote>
<div>Server est la classe principal pour la communication de la raspberry vers un client.</div></blockquote>
<dl class="method">
<dt id="Server.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>port=COMPONENTS_SERVER_DEFAULT_PORT</em>, <em>password=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Server.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Constructeur du serveur.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> – Port à utiliser pour le TCPTalks</li>
<li><strong>password</strong> – Mot de passe à utiliser pour le TCPTalks</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Server.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Server.disconnect" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Disconnect permet de deconnecter le client du serveur et de déconnecter tous les components.</p>
</dd></dl>

<dl class="method">
<dt id="Server.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Server.cleanup" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode permet de déconnecter tous les components connecté à la raspberry.</p>
</dd></dl>

<dl class="method">
<dt id="Server.addcomponent">
<code class="descname">addcomponent</code><span class="sig-paren">(</span><em>comp</em>, <em>compid</em><span class="sig-paren">)</span><a class="headerlink" href="#Server.addcomponent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Permet l’ajout d’un component avec un identifiant associé.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>comp</strong> (<em>component</em>) – L’object component à ajouter au serveur.</li>
<li><strong>compid</strong> – Nom associé au component à ajouter.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Les mothodes suivantes sont normalement réservé à TCPTalks et donc au client.</p>
</div>
<dl class="method">
<dt id="Server.MAKE_COMPONENT_EXECUTE">
<code class="descname">MAKE_COMPONENT_EXECUTE</code><span class="sig-paren">(</span><em>compid</em>, <em>methodname</em>, <em>args</em>, <em>kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Server.MAKE_COMPONENT_EXECUTE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Methode qui permet au client d’executer une methode de d’un object component associé au serveur grâce au code d’identification compid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>compid</strong> – identifiant du component à utiliser.</li>
<li><strong>methodname</strong> – Nom de la méthode à apeller.</li>
<li><strong>args</strong> – Arguments à transmettre à la methode apellé.</li>
<li><strong>kwargs</strong> – Arguments nommé à transmettre à la methode apellé.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Server.GET_COMPONENT_ATTRIBUTE">
<code class="descname">GET_COMPONENT_ATTRIBUTE</code><span class="sig-paren">(</span><em>compid</em>, <em>attrname</em><span class="sig-paren">)</span><a class="headerlink" href="#Server.GET_COMPONENT_ATTRIBUTE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Methode qui permet au client d’optenir une variable d’un component.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>compid</strong> – Identifiant du component à utiliser.</li>
<li><strong>attrname</strong> – Nom de l’attribut demandé.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Server.SET_COMPONENT_ATTRIBUTE">
<code class="descname">SET_COMPONENT_ATTRIBUTE</code><span class="sig-paren">(</span><em>compid</em>, <em>attrname</em>, <em>attrvalue</em><span class="sig-paren">)</span><a class="headerlink" href="#Server.SET_COMPONENT_ATTRIBUTE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Methode qui permet au client de modifier une variable d’un component.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>compid</strong> – Identifiant du component à utiliser.</li>
<li><strong>attrname</strong> (<em>string</em>) – Nom de la variable à modifier.</li>
<li><strong>attrvalue</strong> – Nouvelle valeur de la variable à modifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Server.CREATE_SERIALTALKS_COMPONENT">
<code class="descname">CREATE_SERIALTALKS_COMPONENT</code><span class="sig-paren">(</span><em>uuid</em><span class="sig-paren">)</span><a class="headerlink" href="#Server.CREATE_SERIALTALKS_COMPONENT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode permet au client de connecté des components de type SerialTalks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>uuid</strong> – Code d’identification de l’arduino à connecter.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Server.CREATE_SWITCH_COMPONENT">
<code class="descname">CREATE_SWITCH_COMPONENT</code><span class="sig-paren">(</span><em>switchpin</em><span class="sig-paren">)</span><a class="headerlink" href="#Server.CREATE_SWITCH_COMPONENT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode permet au client de paramétrer un interrupteur sous le GPIO de la raspberry et de creer le component associé.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>switchpin</strong> – Pin du GPIO de la raspberry à utiliser.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Server.CREATE_LIGHTBUTTON_COMPONENT">
<code class="descname">CREATE_LIGHTBUTTON_COMPONENT</code><span class="sig-paren">(</span><em>switchpin</em>, <em>ledpin</em><span class="sig-paren">)</span><a class="headerlink" href="#Server.CREATE_LIGHTBUTTON_COMPONENT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode permet de paramétrer un bouton-led sous le GPIO de la raspberry et de creer le component assicié.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>switchpin</strong> – Pin du GPIO de la raspberry à utiliser pour le bouton.</li>
<li><strong>ledpin</strong> – Pin du GPIO à utiliser pour la lumière du bouton.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Server.CREATE_PICAMERA_COMPONENT">
<code class="descname">CREATE_PICAMERA_COMPONENT</code><span class="sig-paren">(</span><em>resolution</em>, <em>framerate</em><span class="sig-paren">)</span><a class="headerlink" href="#Server.CREATE_PICAMERA_COMPONENT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode permet de parametrer la caméra branché en direct sur la raspberry et de creer le component associé.</p>
</dd></dl>

</dd></dl>

<p>Dans la suite de cette API nous traiterons des components implémenté dans cette librairie.</p>
<dl class="class">
<dt id="Component">
<em class="property">class </em><code class="descname">Component</code><a class="headerlink" href="#Component" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="Component._setup">
<code class="descname">_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Component._setup" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode est apeller à la creation du component, elle peut être modifier en fonction des besoins de chaque components.</p>
</dd></dl>

<dl class="method">
<dt id="Component._clean">
<code class="descname">_clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Component._clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode est apeller à la déconnection du component, elle peut être modifier en fonction des besoins de chaque components.</p>
</dd></dl>

</dd></dl>

<p>Voici le component utilisé pour les arduinos qui utilise la librairie SerialTalks.</p>
<dl class="class">
<dt id="SerialTalksComponent">
<em class="property">class </em><code class="descname">SerialTalksComponent</code><span class="sig-paren">(</span><em>SerialTalks</em>, <em>Component</em><span class="sig-paren">)</span><a class="headerlink" href="#SerialTalksComponent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="SerialTalksComponent.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>uuid</em><span class="sig-paren">)</span><a class="headerlink" href="#SerialTalksComponent.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Constructeur du component.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>uuid</strong> – identifiant de l’arduino à utiliser pour la connexion.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="SerialTalksComponent._setup">
<code class="descname">_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SerialTalksComponent._setup" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Connecte l’arduino.</p>
</dd></dl>

<dl class="method">
<dt id="SerialTalksComponent._cleanup">
<code class="descname">_cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SerialTalksComponent._cleanup" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Déconnecte l’arduino.</p>
</dd></dl>

</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Il existe aussi toutes les methodes du serialTalks.</p>
</div>
<p>Les deux components suivants sont destiné à l’utilisation du GPIO.</p>
<dl class="class">
<dt id="SwitchComponent">
<em class="property">class </em><code class="descname">SwitchComponent</code><span class="sig-paren">(</span><em>Switch</em>, <em>Component</em><span class="sig-paren">)</span><a class="headerlink" href="#SwitchComponent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="SwitchComponent.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>switchpin</em><span class="sig-paren">)</span><a class="headerlink" href="#SwitchComponent.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Constructeur du component. Il parametre le pin du  GPIO également pour une utilisation immédiate sans setup.
:param switchpin: Pin à utiliser pour l’interrupteur.</p>
</dd></dl>

<dl class="method">
<dt id="SwitchComponent._cleanup">
<code class="descname">_cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SwitchComponent._cleanup" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode libère le pin utiliser pour une futur utilisation.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="LightButtonComponent">
<em class="property">class </em><code class="descname">LightButtonComponent</code><span class="sig-paren">(</span><em>LightButton</em>, <em>Component</em><span class="sig-paren">)</span><a class="headerlink" href="#LightButtonComponent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="LightButtonComponent.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>switchpin</em>, <em>ledpin</em><span class="sig-paren">)</span><a class="headerlink" href="#LightButtonComponent.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Constructeur du component. Il parametre les pins du GPIO également pour une utilisation immédiate sans setup.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>switchpin</strong> – Pin à utiliser pour le bouton.</li>
<li><strong>ledpin</strong> – Pin à utiliser pour la lumière du bouton.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="LightButtonComponent._cleanup">
<code class="descname">_cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#LightButtonComponent._cleanup" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode libère les pins monopolisés pour une autre utilisation.</p>
</dd></dl>

</dd></dl>

<p>Le dernier component permet l’utilisation de la caméra.</p>
<dl class="class">
<dt id="PiCameraComponent">
<em class="property">class </em><code class="descname">PiCameraComponent</code><span class="sig-paren">(</span><em>PiCamera</em>, <em>Component</em><span class="sig-paren">)</span><a class="headerlink" href="#PiCameraComponent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="PiCameraComponent.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>server</em>, <em>resolution</em>, <em>framerate</em><span class="sig-paren">)</span><a class="headerlink" href="#PiCameraComponent.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Constructeur du component.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> – </li>
<li><strong>resolution</strong> – Resolution à parametrer pour la caméra.</li>
<li><strong>framerate</strong> – Rafraichissement à utiliser pour la caméra.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="PiCameraComponent.generate_streams_and_send_their_values">
<code class="descname">generate_streams_and_send_their_values</code><span class="sig-paren">(</span><em>self</em>, <em>server</em>, <em>compid</em><span class="sig-paren">)</span><a class="headerlink" href="#PiCameraComponent.generate_streams_and_send_their_values" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="PiCameraComponent.start_capture">
<code class="descname">start_capture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PiCameraComponent.start_capture" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="PiCameraComponent.stop_capture">
<code class="descname">stop_capture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PiCameraComponent.stop_capture" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="PiCameraComponent._cleanup">
<code class="descname">_cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PiCameraComponent._cleanup" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Déconnecter la caméra</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="manager">
<h2>Manager<a class="headerlink" href="#manager" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans cette partie nous metterons à disposition l’API.</p>
<div class="section" id="id1">
<h3>API<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour commencé voici l’object Manager.</p>
<dl class="class">
<dt id="Manager">
<em class="property">class </em><code class="descname">Manager</code><a class="headerlink" href="#Manager" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="Manager.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>ip='localhost'</em>, <em>port=COMPONENTS_SERVER_DEFAULT_PORT</em>, <em>password=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Manager.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cette methode est le constructeur de Manager, elle va parametrer le TCPTalks pour établir la connexion avec le serveur.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>ip</strong> – C’est IP du serveur auquel vous voulez vous connecter (l’ip de la raspberry)</li>
<li><strong>port</strong> – Port à utiliser pour le TCPTalks, attention il dois être le même que celui du serveur.</li>
<li><strong>password</strong> – Mot de passe utilisé par le serveur.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les methodes suivantes sont destiné à une utilisation par le serveur via TCPTalks.</p>
</div>
<dl class="method">
<dt id="Manager.UPDATE_MANAGER_PICAMERA">
<code class="descname">UPDATE_MANAGER_PICAMERA</code><span class="sig-paren">(</span><em>compid</em>, <em>streamvalue</em><span class="sig-paren">)</span><a class="headerlink" href="#Manager.UPDATE_MANAGER_PICAMERA" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Methode qui permet au serveur d’envoyer le flux de la vidéo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>compid</strong> – ID de la caméra à l’origine du flux</li>
<li><strong>streamvalue</strong> – flux</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Manager.MAKE_MANAGER_EXECUTE">
<code class="descname">MAKE_MANAGER_EXECUTE</code><span class="sig-paren">(</span><em>compid</em><span class="sig-paren">)</span><a class="headerlink" href="#Manager.MAKE_MANAGER_EXECUTE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Methode qui permet au serveur d’executer une commande associé au component. Cette association est réalisé dans les proxys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>compid</strong> – Identification du component.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<p>Nous allons finir par les Proxys. Ces objects ont pour objectif de parfaitement simuler une utilisation en interne de l’object .C’est à dire que si on prend l’exemple de SeriaTalks, le proxy de celui ci va imiter toutes les commandes en les modifiants un peu pour que l’utilisateur puisse l’utiliser comme un seriatalks classique.</p>
<p>Nous allons détailler le fonctionnement de l’object proxy pour une meilleur compréhension.</p>
<dl class="class">
<dt id="Proxy">
<em class="property">class </em><code class="descname">Proxy</code><a class="headerlink" href="#Proxy" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="Proxy.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>manager</em>, <em>compid</em>, <em>attrlist</em>, <em>methlist</em><span class="sig-paren">)</span><a class="headerlink" href="#Proxy.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le constructeur du Proxy est très important puisqu’il va ensuite creer des methodes à partir des arguments données. Le constructeur va donc creer pour chaque element de methlist une methode parfaitement utilisable qui va consister à envoyer vias le TCPTalks l’OPCode MAKE_COMPONENT_EXECUTE avec tous les arguments données.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager</strong> (<a class="reference internal" href="#Manager" title="Manager"><em>Manager</em></a>) – Cette object correspond au TCPTalks à utiliser pour communiquer avec les components.</li>
<li><strong>compid</strong> – Compid représente le component qui dois être creer avec cette object.</li>
<li><strong>attrlist</strong> – Liste des attributs du component associé.</li>
<li><strong>methlist</strong> – Liste des fonctions du component associé.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Proxy.__getattr__">
<code class="descname">__getattr__</code><span class="sig-paren">(</span><em>attrname</em>, <em>tcptimeout=10</em><span class="sig-paren">)</span><a class="headerlink" href="#Proxy.__getattr__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La methode d’accès au variable. Cette methode regarde si la variable apellé est dans la liste des arguments du component associé. Si c’est bien le cas, il envoye une requette TCPTalks pour obtenir cette valeur et la renvoie.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first simple">
<li><strong>attrname</strong> – Nom de l’atribut demandé.</li>
<li><strong>tcptimeout</strong> – Timeout pour la requette TCPTalks.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retourne:</th><td class="field-body"><p class="first last">Retourne la valeur de l’attribu demandé.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Proxy.__setattr__">
<code class="descname">__setattr__</code><span class="sig-paren">(</span><em>attrname</em>, <em>attrvalue</em>, <em>tcptimeout=10</em><span class="sig-paren">)</span><a class="headerlink" href="#Proxy.__setattr__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La methode de modification de variable. Cette methode regarde si la variable apellé est dans la liste des arguments du component associé. Si c’est bien le cas, il envoye une requette de modification de cette variable vias TCPTalks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>attrname</strong> – Nom de l’attribut à modifier.</li>
<li><strong>attrvalue</strong> – Nouvelle valeur de l’attribue.</li>
<li><strong>tcptimeout</strong> – Timeout à utliser pour la requette TCPTalks.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<p>Dans les objets qui hérite de proxy, on va pouvoir dans le contructeur modifier la liste des attributs et des methodes du component association, puis apeller le constructeur de proxy pour creer les methodes.</p>
<p>Le proxy de SerialTalks</p>
<dl class="class">
<dt id="SerialTalksProxy">
<em class="property">class </em><code class="descname">SerialTalksProxy</code><span class="sig-paren">(</span><em>Proxy</em><span class="sig-paren">)</span><a class="headerlink" href="#SerialTalksProxy" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="SerialTalksProxy.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>manager</em>, <em>uuid</em><span class="sig-paren">)</span><a class="headerlink" href="#SerialTalksProxy.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Constructeur de SerialTalksProxy avec un uuid d’arduino.</p>
<dl class="data">
<dt>
<code class="descname">attrname = ['port', 'is_connected']</code></dt>
<dt>
<code class="descname">methlist = ['connect', 'disconnect', 'send', 'poll', 'flush', 'execute', 'getuuid', 'setuuid', 'getout', 'geterr']</code></dt>
<dd></dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><strong>uuid</strong> – Code d’identification de l’arduino à utiliser pour ce proxy.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="SwitchProxy">
<em class="property">class </em><code class="descname">SwitchProxy</code><span class="sig-paren">(</span><em>Proxy</em><span class="sig-paren">)</span><a class="headerlink" href="#SwitchProxy" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="SwitchProxy.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>manager</em>, <em>switchpin</em><span class="sig-paren">)</span><a class="headerlink" href="#SwitchProxy.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Constructeur du proxy.</p>
<dl class="data">
<dt>
<code class="descname">attrname = ['state', 'PinInput']</code></dt>
<dt>
<code class="descname">methlist = ['Close']</code></dt>
<dd></dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager</strong> (<a class="reference internal" href="#Manager" title="Manager"><em>Manager</em></a>) – Object pour la comunication en TCPTalks.</li>
<li><strong>switchpin</strong> – Pin GPIO à utiliser pour l’interrupteur.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<code class="descname">SetFunction(function, *args):</code></dt>
<dd></dd></dl>

<p>Methode d’association de la methode à un compid pour la requette MAKE_MANAGER_EXECUTE.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>function</strong> – Adresse de la fonction à utiliser.</li>
<li><strong>args</strong> – Arguments à utiliser pour la fonction.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="LightButtonProxy">
<em class="property">class </em><code class="descname">LightButtonProxy</code><span class="sig-paren">(</span><em>Proxy</em><span class="sig-paren">)</span><a class="headerlink" href="#LightButtonProxy" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="LightButtonProxy.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>manager</em>, <em>switchpin</em>, <em>ledpin</em><span class="sig-paren">)</span><a class="headerlink" href="#LightButtonProxy.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Constructeur du proxy.</p>
<dl class="data">
<dt>
<code class="descname">attrname = ['state', 'PinInput', 'PinLight']</code></dt>
<dt>
<code class="descname">methlist = ['SetAutoSwitch', 'On', 'Off', 'Switch', 'Close']</code></dt>
<dd></dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager</strong> (<a class="reference internal" href="#Manager" title="Manager"><em>Manager</em></a>) – Object pour la comunication en TCPTalks.</li>
<li><strong>switchpin</strong> – Pin GPIO à utiliser pour le bouton.</li>
<li><strong>ledpin</strong> – Pin GPIO pour la lumière du bouton.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<code class="descname">SetFunction(function, *args):</code></dt>
<dd></dd></dl>

<p>Methode d’association de la methode à un compid pour la requette MAKE_MANAGER_EXECUTE.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager</strong> (<a class="reference internal" href="#Manager" title="Manager"><em>Manager</em></a>) – Object pour la comunication en TCPTalks.</li>
<li><strong>function</strong> – Adresse de la fonction à utiliser.</li>
<li><strong>args</strong> – Arguments à utiliser pour la fonction.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="PiCameraProxy">
<em class="property">class </em><code class="descname">PiCameraProxy</code><span class="sig-paren">(</span><em>Proxy</em><span class="sig-paren">)</span><a class="headerlink" href="#PiCameraProxy" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="method">
<dt id="PiCameraProxy.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>manager</em>, <em>resolution</em>, <em>framerate</em><span class="sig-paren">)</span><a class="headerlink" href="#PiCameraProxy.__init__" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Constructeur du proxy de la picamera.</p>
<dl class="data">
<dt>
<code class="descname">attrlist = ['resolution', 'framerate']</code></dt>
<dt>
<code class="descname">methlist = ['start_capture', 'stop_capture']</code></dt>
<dd></dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramètres:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager</strong> (<a class="reference internal" href="#Manager" title="Manager"><em>Manager</em></a>) – Object pour la comunication en TCPTalks.</li>
<li><strong>resolution</strong> – Resolution à parametrer à la caméra.</li>
<li><strong>framerate</strong> – Taux de Rafraichissement à utiliser pour la caméra.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table des Matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Components</a><ul>
<li><a class="reference internal" href="#preambule">Préambule</a></li>
<li><a class="reference internal" href="#server">Server</a><ul>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#manager">Manager</a><ul>
<li><a class="reference internal" href="#id1">API</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="TCPTalks.html"
                        title="Chapitre précédent">TCP Talks</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="Outils.html"
                        title="Chapitre suivant">Outils</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Components.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="Outils.html" title="Outils"
             >suivant</a> |</li>
        <li class="right" >
          <a href="TCPTalks.html" title="TCP Talks"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">documentation Club Robot 1.0</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, members&#39; Club.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>